<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <title>Web học tiếng Anh</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 p-6">
  <div class="max-w-2xl mx-auto bg-white shadow-xl rounded-xl p-6 text-center">
    <h1 class="text-2xl font-bold mb-4">Kiểm tra từ vựng tiếng Anh</h1>

    <!-- Chọn bộ từ vựng -->
    <div class="mb-4">
      <label for="vocabSet" class="font-semibold">Chọn bộ từ vựng:</label>
  <select id="vocabSet" class="border rounded p-2">
          <option value="">-- Chọn --</option>
          <!-- Part 1 -->
          <option value="part1-1.json">Part 1-1</option>
          <option value="part1-2.json">Part 1-2</option>
          <option value="part1-3.json">Part 1-3</option>
          <option value="part1-4.json">Part 1-4</option>
          <option value="part1-5.json">Part 1-5</option>

          <!-- Part 2 -->
          <option value="part2-1.json">Part 2-1</option>
          <option value="part2-2.json">Part 2-2</option>
          <option value="part2-3.json">Part 2-3</option>
          <option value="part2-4.json">Part 2-4</option>
          <option value="part2-5.json">Part 2-5</option>

          <!-- Part 3 -->
          <option value="part3-1.json">Part 3-1</option>
          <option value="part3-2.json">Part 3-2</option>
          <option value="part3-3.json">Part 3-3</option>
          <option value="part3-4.json">Part 3-4</option>
          <option value="part3-5.json">Part 3-5</option>

          <!-- Part 4 -->
          <option value="part4-1.json">Part 4-1</option>
          <option value="part4-2.json">Part 4-2</option>
          <option value="part4-3.json">Part 4-3</option>
          <option value="part4-4.json">Part 4-4</option>
          <option value="part4-5.json">Part 4-5</option>

          <!-- Part 5 -->
          <option value="part5-1.json">Part 5-1</option>
          <option value="part5-2.json">Part 5-2</option>
          <option value="part5-3.json">Part 5-3</option>
          <option value="part5-4.json">Part 5-4</option>
          <option value="part5-5.json">Part 5-5</option>

          <!-- Part 6 -->
          <option value="part6-1.json">Part 6-1</option>
          <option value="part6-2.json">Part 6-2</option>
          <option value="part6-3.json">Part 6-3</option>
          <option value="part6-4.json">Part 6-4</option>
          <option value="part6-5.json">Part 6-5</option>

          <!-- Part 7 -->
          <option value="part7-1.json">Part 7-1</option>
          <option value="part7-2.json">Part 7-2</option>
          <option value="part7-3.json">Part 7-3</option>
          <option value="part7-4.json">Part 7-4</option>
          <option value="part7-5.json">Part 7-5</option>

          <!-- Part 8 -->
          <option value="part8-1.json">Part 8-1</option>
          <option value="part8-2.json">Part 8-2</option>
          <option value="part8-3.json">Part 8-3</option>
          <option value="part8-4.json">Part 8-4</option>
          <option value="part8-5.json">Part 8-5</option>

          <!-- Part 9 -->
          <option value="part9-1.json">Part 9-1</option>
          <option value="part9-2.json">Part 9-2</option>
          <option value="part9-3.json">Part 9-3</option>
          <option value="part9-4.json">Part 9-4</option>
          <option value="part9-5.json">Part 9-5</option>

          <!-- Part 10 -->
          <option value="part10-1.json">Part 10-1</option>
          <option value="part10-2.json">Part 10-2</option>
          <option value="part10-3.json">Part 10-3</option>
          <option value="part10-4.json">Part 10-4</option>
          <option value="part10-5.json">Part 10-5</option>

        </select>
      <button id="startBtn" class="bg-purple-500 text-white px-4 py-2 rounded hover:bg-purple-600 ml-2">
        Bắt đầu
      </button>
    </div>

    <!-- Số thứ tự -->
    <p id="progress" class="text-gray-600 mb-2"></p>

    <!-- Câu hỏi -->
    <p class="text-lg mb-2 font-semibold">Nhập từ tiếng Anh cho nghĩa dưới đây:</p>
    <p id="question" class="text-lg mb-2 font-semibold text-blue-700 cursor-pointer" title="Bấm để kiểm tra"></p>

    <!-- Gợi ý -->
    <div id="hint" class="text-sm text-gray-700 italic mb-4"></div>

    <!-- Ô nhập -->
    <input id="answer" type="text" placeholder="Nhập từ tiếng Anh..." 
           class="border rounded p-2 w-full mb-4 text-center">
    
    <!-- Nút kiểm tra -->
    <button id="checkBtn" class="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600">
      Kiểm tra
    </button>

    <!-- Kết quả -->
    <div id="result" class="mt-4 text-lg font-medium"></div>

    <!-- Điều hướng -->
    <div class="flex justify-between mt-6">
      <button id="prevBtn" class="bg-gray-400 text-white px-4 py-2 rounded hover:bg-gray-500">⬅ Quay lại</button>
      <button id="nextBtn" class="bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600">Tiếp theo ➡</button>
    </div>
  </div>

  <script>
    let vocabList = [];
    let currentIndex = 0;

    async function loadVocab(fileName) {
      const res = await fetch(fileName);
      vocabList = await res.json();
      currentIndex = 0;
      showQuestion();
    }

    function showQuestion() {
      const word = vocabList[currentIndex];
      document.getElementById("question").innerText = word["Ý nghĩa"];
      document.getElementById("progress").innerText = `Từ ${currentIndex + 1} / ${vocabList.length}`;
      document.getElementById("hint").innerHTML = `
        <p><b>Phiên âm:</b> ${word["Phiên âm"]}</p>
        <p><b>Loại từ:</b> ${word["Loại từ"]}</p>
        <p><b>Cách nhớ nhanh:</b> ${word["Cách nhớ nhanh"]}</p>
      `;
      document.getElementById("answer").value = "";
      document.getElementById("result").innerText = "";
    }

    function checkAnswer() {
      const word = vocabList[currentIndex];
      const userAnswer = document.getElementById("answer").value.trim().toLowerCase();
      if (userAnswer === word["Từ vựng"].toLowerCase()) {
        document.getElementById("result").innerHTML = `<div class="text-green-600 font-bold">✅ Đúng rồi!</div>`;
      } else {
        document.getElementById("result").innerHTML = `
          <div class="text-red-600 font-bold">❌ Sai! Đáp án: ${word["Từ vựng"]}</div>
        `;
      }
    }

    // Sự kiện chọn bộ từ
    document.getElementById("startBtn").addEventListener("click", () => {
      const selectedFile = document.getElementById("vocabSet").value;
      if (!selectedFile) {
        alert("Hãy chọn một bộ từ vựng!");
        return;
      }
      loadVocab(selectedFile);
    });

    // Click nút kiểm tra
    document.getElementById("checkBtn").addEventListener("click", checkAnswer);

    // Enter trong ô nhập
    document.getElementById("answer").addEventListener("keypress", (e) => {
      if (e.key === "Enter") {
        checkAnswer();
      }
    });

    // Click vào nghĩa để kiểm tra
    document.getElementById("question").addEventListener("click", checkAnswer);

    // Nút tiếp theo
    document.getElementById("nextBtn").addEventListener("click", () => {
      if (currentIndex < vocabList.length - 1) {
        currentIndex++;
        showQuestion();
      }
    });

    // Nút quay lại
    document.getElementById("prevBtn").addEventListener("click", () => {
      if (currentIndex > 0) {
        currentIndex--;
        showQuestion();
      }
    });
  </script>
</body>
</html>
